{"version":3,"sources":["spotify.js","pages/Login.js","utils.js","styles/variables.js","styles/GlobalStyle.js","styles/StyledDropdown.js","styles/StyledGrid.js","styles/StyledHeader.js","styles/StyledRangeButtons.js","styles/StyledSection.js","styles/StyledTrackList.js","components/ArtistsGrid.js","components/Loader.js","components/PlaylistsGrid.js","components/SectionWrapper.js","components/TimeRangeButtons.js","components/TrackList.js","pages/Playlist.js","pages/Playlists.js","pages/Profile.js","pages/TopArtists.js","pages/TopTracks.js","App.js","reportWebVitals.js","index.js"],"names":["LOCALSTORAGE_KEYS","accessToken","refreshToken","expireTime","timestamp","LOCALSTORAGE_VALUES","window","localStorage","getItem","logout","property","removeItem","location","origin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_context","prev","next","Date","now","Number","console","error","axios","get","concat","sent","setItem","access_token","reload","t0","stop","apply","arguments","_queryParams","queryString","search","urlParams","URLSearchParams","queryParams","_defineProperty","hasTokenExpired","getAccessToken","defaults","baseURL","headers","getCurrentUserPlaylists","limit","length","undefined","getTopArtists","time_range","getTopTracks","getAudioFeaturesForTracks","ids","StyledLoginContainer","styled","main","withConfig","displayName","componentId","StyledLoginButton","a","Login","_jsxs","children","_jsx","href","catchErrors","fn","catch","err","formatDuration","ms","minutes","Math","floor","seconds","variables","css","GlobalStyle","createGlobalStyle","StyledDropdown","div","props","active","StyledGrid","ul","type","StyledHeader","header","StyledRangeButtons","StyledSection","section","StyledTrackList","ArtistsGrid","artists","_Fragment","map","artist","i","className","images","src","url","alt","name","dance","keyframes","_templateObject","_taggedTemplateLiteral","StyledLoader","StyledBar","delay","Loader","PlaylistsGrid","playlists","playlist","Link","to","id","SectionWrapper","title","seeAllLink","breadcrumb","TimeRangeButtons","activeRange","setActiveRange","onClick","TrackList","tracks","track","album","duration_ms","Playlist","useParams","_useState","useState","_useState2","_slicedToArray","setPlaylist","_useState3","_useState4","tracksData","setTracksData","_useState5","_useState6","setTracks","_useState7","_useState8","audioFeatures","setAudioFeatures","_useState9","_useState10","sortValue","setSortValue","useEffect","fetchData","_yield$getPlaylistByI","playlist_id","fetchMoreData","_ref2","_callee2","_context2","_toConsumableArray","items","fetchAudioFeatures","_ref3","_callee3","_yield$getAudioFeatur","_context3","_ref4","join","tracksWithAudioFeatures","useMemo","_ref5","trackToAdd","audio_features","audioFeaturesObj","find","item","sortedTracks","sort","b","aFeatures","bFeatures","followers","total","htmlFor","onChange","e","target","value","option","charAt","toUpperCase","slice","Playlists","playlistsData","setPlaylistsData","setPlaylists","_yield$getCurrentUser","Profile","profile","setProfile","topArtists","setTopArtists","topTracks","setTopTracks","userProfile","userPlaylists","userTopArtists","userTopTracks","display_name","TopArtists","_yield$getTopArtists","TopTracks","_yield$getTopTracks","StyledLogoutButton","button","ScrollToTop","pathname","useLocation","scrollTo","App","token","setToken","Router","Switch","Route","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4418ef45.chunk.js","sourcesContent":["import axios from 'axios';\n\n// Map for localStorage keys\nconst LOCALSTORAGE_KEYS = {\n  accessToken: 'spotify_access_token',\n  refreshToken: 'spotify_refresh_token',\n  expireTime: 'spotify_token_expire_time',\n  timestamp: 'spotify_token_timestamp',\n}\n\n// Map to retrieve localStorage values\nconst LOCALSTORAGE_VALUES = {\n  accessToken: window.localStorage.getItem(LOCALSTORAGE_KEYS.accessToken),\n  refreshToken: window.localStorage.getItem(LOCALSTORAGE_KEYS.refreshToken),\n  expireTime: window.localStorage.getItem(LOCALSTORAGE_KEYS.expireTime),\n  timestamp: window.localStorage.getItem(LOCALSTORAGE_KEYS.timestamp),\n};\n\n/**\n * Clear out all localStorage items we've set and reload the page\n * @returns {void}\n */\nexport const logout = () => {\n  // Clear all localStorage items\n  for (const property in LOCALSTORAGE_KEYS) {\n    window.localStorage.removeItem(LOCALSTORAGE_KEYS[property]);\n  }\n  // Navigate to homepage\n  window.location = window.location.origin;\n};\n\n/**\n * Use the refresh token in localStorage to hit the /refresh_token endpoint\n * in our Node app, then update values in localStorage with data from response.\n * @returns {void}\n */\nconst refreshToken = async () => {\n  try {\n    // Logout if there's no refresh token stored or we've managed to get into a reload infinite loop\n    if (!LOCALSTORAGE_VALUES.refreshToken ||\n      LOCALSTORAGE_VALUES.refreshToken === 'undefined' ||\n      (Date.now() - Number(LOCALSTORAGE_VALUES.timestamp) / 1000) < 1000\n    ) {\n      console.error('No refresh token available');\n      logout();\n    }\n\n    // Use `/refresh_token` endpoint from our Node app\n    const { data } = await axios.get(`/refresh_token?refresh_token=${LOCALSTORAGE_VALUES.refreshToken}`);\n\n    // Update localStorage values\n    window.localStorage.setItem(LOCALSTORAGE_KEYS.accessToken, data.access_token);\n    window.localStorage.setItem(LOCALSTORAGE_KEYS.timestamp, Date.now());\n\n    // Reload the page for localStorage updates to be reflected\n    window.location.reload();\n\n  } catch (e) {\n    console.error(e);\n  }\n};\n\n/**\n * Checks if the amount of time that has elapsed between the timestamp in localStorage\n * and now is greater than the expiration time of 3600 seconds (1 hour).\n * @returns {boolean} Whether or not the access token in localStorage has expired\n */\nconst hasTokenExpired = () => {\n  const { accessToken, timestamp, expireTime } = LOCALSTORAGE_VALUES;\n  if (!accessToken || !timestamp) {\n    return false;\n  }\n  const millisecondsElapsed = Date.now() - Number(timestamp);\n  return (millisecondsElapsed / 1000) > Number(expireTime);\n};\n\n/**\n * Handles logic for retrieving the Spotify access token from localStorage\n * or URL query params\n * @returns {string} A Spotify access token\n */\nconst getAccessToken = () => {\n  const queryString = window.location.search;\n  const urlParams = new URLSearchParams(queryString);\n  const queryParams = {\n    [LOCALSTORAGE_KEYS.accessToken]: urlParams.get('access_token'),\n    [LOCALSTORAGE_KEYS.refreshToken]: urlParams.get('refresh_token'),\n    [LOCALSTORAGE_KEYS.expireTime]: urlParams.get('expires_in'),\n  };\n  const hasError = urlParams.get('error');\n\n  // If there's an error OR the token in localStorage has expired, refresh the token\n  if (hasError || hasTokenExpired() || LOCALSTORAGE_VALUES.accessToken === 'undefined') {\n    refreshToken();\n  }\n\n  // If there is a valid access token in localStorage, use that\n  if (LOCALSTORAGE_VALUES.accessToken && LOCALSTORAGE_VALUES.accessToken !== 'undefined') {\n    return LOCALSTORAGE_VALUES.accessToken;\n  }\n\n  // If there is a token in the URL query params, user is logging in for the first time\n  if (queryParams[LOCALSTORAGE_KEYS.accessToken]) {\n    // Store the query params in localStorage\n    for (const property in queryParams) {\n      window.localStorage.setItem(property, queryParams[property]);\n    }\n    // Set timestamp\n    window.localStorage.setItem(LOCALSTORAGE_KEYS.timestamp, Date.now());\n    // Return access token from query params\n    return queryParams[LOCALSTORAGE_KEYS.accessToken];\n  }\n\n  // We should never get here!\n  return false;\n};\n\nexport const accessToken = getAccessToken();\n\n/**\n * Axios global request headers\n * https://github.com/axios/axios#global-axios-defaults\n */\naxios.defaults.baseURL = 'https://api.spotify.com/v1';\naxios.defaults.headers['Authorization'] = `Bearer ${accessToken}`;\naxios.defaults.headers['Content-Type'] = 'application/json';\n\n/**\n * Get Current User's Profile\n * https://developer.spotify.com/documentation/web-api/reference/#endpoint-get-current-users-profile\n * @returns {Promise}\n */\nexport const getCurrentUserProfile = () => axios.get('/me');\n\n/**\n * Get a List of Current User's Playlists\n * https://developer.spotify.com/documentation/web-api/reference/#endpoint-get-a-list-of-current-users-playlists\n * @returns {Promise}\n */\nexport const getCurrentUserPlaylists = (limit = 20) => {\n  return axios.get(`/me/playlists?limit=${limit}`);\n};\n\n/**\n * Get a User's Top Artists\n * https://developer.spotify.com/documentation/web-api/reference/#endpoint-get-users-top-artists-and-tracks\n * @param {string} time_range - 'short_term' (last 4 weeks) 'medium_term' (last 6 months) or 'long_term' (calculated from several years of data and including all new data as it becomes available). Defaults to 'short_term'\n * @returns {Promise}\n */\nexport const getTopArtists = (time_range = 'short_term') => {\n  return axios.get(`/me/top/artists?time_range=${time_range}`);\n};\n\n/**\n * Get a User's Top Tracks\n * https://developer.spotify.com/documentation/web-api/reference/#endpoint-get-users-top-artists-and-tracks\n * @param {string} time_range - 'short_term' (last 4 weeks) 'medium_term' (last 6 months) or 'long_term' (calculated from several years of data and including all new data as it becomes available). Defaults to 'short_term'\n * @returns {Promise}\n */\n export const getTopTracks = (time_range = 'short_term') => {\n  return axios.get(`/me/top/tracks?time_range=${time_range}`);\n};\n\n/**\n * Get a Playlist\n * https://developer.spotify.com/documentation/web-api/reference/#endpoint-get-playlist\n * @param {string} playlist_id - The Spotify ID for the playlist.\n * @returns {Promise}\n */\nexport const getPlaylistById = playlist_id => {\n  return axios.get(`/playlists/${playlist_id}`);\n}\n\n/**\n * Get Audio Features for Several Tracks\n * https://developer.spotify.com/documentation/web-api/reference/#endpoint-get-several-audio-features\n * @param {string} ids - A comma-separated list of the Spotify IDs for the tracks\n * @returns {Promise}\n */\nexport const getAudioFeaturesForTracks = ids => {\n  return axios.get(`/audio-features?ids=${ids}`);\n};","import styled from 'styled-components/macro';\n\nconst LOGIN_URI =\n  process.env.NODE_ENV !== 'production'\n    ? 'http://localhost:8888/login'\n    : 'https://spotify-profile-v2.herokuapp.com/login';\n\nconst StyledLoginContainer = styled.main`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n`;\n\nconst StyledLoginButton = styled.a`\n  display: inline-block;\n  background-color: var(--green);\n  color: var(--white);\n  border-radius: var(--border-radius-pill);\n  font-weight: 700;\n  font-size: var(--fz-lg);\n  padding: var(--spacing-sm) var(--spacing-xl);\n  margin-top: 3vh;\n\n  &:hover,\n  &:focus {\n    text-decoration: none;\n    filter: brightness(1.1);\n  }\n`;\n\nconst Login = () => (\n  <StyledLoginContainer>\n    <h1>Spotify Profile</h1>\n    <StyledLoginButton href={LOGIN_URI}>\n      Log in to Spotify\n    </StyledLoginButton>\n  </StyledLoginContainer>\n);\n\nexport default Login;","/**\n * Higher-order function for async/await error handling\n * @param {function} fn an async function\n * @returns {function}\n */\nexport const catchErrors = fn => {\n    return function (...args) {\n        return fn(...args).catch((err) => {\n            console.error(err);\n        })\n    }\n}\n\n/**\n * Format milliseconds to time duration\n * @param {number} ms number of milliseconds\n * @returns {string} formatted duration string\n * @example 216699 -> '3:36'\n */\nexport const formatDuration = ms => {\n    const minutes = Math.floor(ms / 60000);\n    const seconds = Math.floor(((ms % 60000) / 1000));\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n}","import { css } from 'styled-components/macro';\n\nconst variables = css`\n  :root {\n    --black: #121212;\n    --near-black: #181818;\n    --dark-grey: #282828;\n    --grey: #535353;\n    --light-grey: #b3b3b3;\n    --white: #ffffff;\n    --green: #1DB954;\n\n    --font: -apple-system, BlinkMacSystemFont, system-ui, sans-serif;\n\n    --fz-xxs: 12px;\n    --fz-xs: 13px;\n    --fz-sm: 14px;\n    --fz-md: 16px;\n    --fz-lg: 18px;\n    --fz-xl: 20px;\n    --fz-xxl: 24px;\n\n    --spacing-xxs: 4px;\n    --spacing-xs: 8px;\n    --spacing-sm: 12px;\n    --spacing-md: 16px;\n    --spacing-lg: 24px;\n    --spacing-xl: 32px;\n    --spacing-xxl: 64px;\n\n    --border-radius-subtle: 4px;\n    --border-radius-pill: 30px;\n\n    --site-max-width: 1300px;\n  }\n`;\n\nexport default variables;","import { createGlobalStyle } from 'styled-components/macro';\nimport variables from './variables';\n\nconst GlobalStyle = createGlobalStyle`\n  ${variables};\n\n  html {\n    box-sizing: border-box;\n  }\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    max-width: 100%;\n    min-height: 100%;\n    overflow-x: hidden;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-font-smoothing: antialiased;\n    background-color: var(--black);\n    color: var(--white);\n    font-family: var(--font);\n    font-size: var(--fz-md);\n  }\n\n  h1, h2, h3, h4, h5, h6 {\n    letter-spacing: -.04em;\n    margin: 0 0 10px;\n  }\n\n  p {\n    margin: 0 0 10px;\n  }\n\n  a,\n  button {\n    transition: all 0.3s ease;\n    color: inherit;\n  }\n\n  a {\n    text-decoration: none;\n\n    &:hover,\n    &:focus {\n      text-decoration: underline;\n    }\n  }\n\n  button {\n    border: 0;\n    cursor: pointer;\n    font-family: inherit;\n    border-radius: var(--border-radius-pill);\n    background-color: rgba(0,0,0,.7);\n    color: var(--white);\n    font-size: var(--fz-sm);\n    font-weight: 700;\n    padding: var(--spacing-xs) var(--spacing-sm);\n\n    &:hover,\n    &:focus {\n      background-color: var(--dark-grey);\n      outline: 0;\n    }\n  }\n\n  img {\n    width: 100%;\n    max-width: 100%;\n    vertical-align: middle;\n  }\n\n  main {\n    position: relative;\n    padding: var(--spacing-xxl) 0;\n  }\n\n  .app {\n    min-height: 100vh;\n  }\n\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border: 0;\n  }\n\n  .overflow-ellipsis {\n    -webkit-line-clamp: 1;\n    -webkit-box-orient: vertical;\n    display: -webkit-box;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: unset;\n    word-break: break-all;\n  }\n\n  .empty-notice {\n    color: var(--grey);\n    font-size: var(--fz-lg);\n    text-align: center;\n    padding: var(--spacing-xxl);\n  }\n`;\n\nexport default GlobalStyle;","import styled from 'styled-components/macro';\n\nconst StyledDropdown = styled.div`\n  position: absolute;\n  top: 0;\n  right: var(--spacing-md);\n  z-index: 1;\n\n  @media (min-width: 768px) {\n    right: var(--spacing-xxl);\n  }\n\n  &:after {\n    content: '';\n    top: 15px;\n    right: var(--spacing-sm);\n    position: absolute;\n    width: 0;\n    height: 0;\n    border-left: 5px solid transparent;\n    border-right: 5px solid transparent;\n    border-top: 6px solid var(--white);\n  }\n\n  select {\n    -webkit-appearance: none;\n    appearance: none;\n    background-color: ${props => props.active ? 'rgba(255,255,255,0.1)' : 'transparent'};\n    color: white;\n    border: 0;\n    border-radius: var(--border-radius-subtle);\n    font-size: var(--fz-sm);\n    font-family: inherit;\n    padding: var(--spacing-xs) var(--spacing-xl) var(--spacing-xs) var(--spacing-sm);\n  }\n`;\n\nexport default StyledDropdown;","import styled from 'styled-components/macro';\n\nconst StyledGrid = styled.ul`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n  grid-gap: var(--spacing-sm);\n\n  @media (min-width: 768px) {\n    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n    grid-gap: var(--spacing-lg);\n  }\n\n  .grid__item {\n    background-color: var(--near-black);\n    border-radius: var(--border-radius-subtle);\n    transition: background-color 0.3s ease;\n    cursor: default;\n\n    &:hover,\n    &:focus {\n      background-color: var(--dark-grey);\n\n      img {\n        box-shadow: 0 8px 24px rgb(0 0 0 / 50%);\n      }\n    }\n\n    a {\n      display: block;\n      width: 100%;\n      height: 100%;\n\n      &:hover,\n      &:focus {\n        text-decoration: none;\n      }\n    }\n  }\n\n  .grid__item__inner {\n    padding: var(--spacing-sm);\n\n    @media (min-width: 768px) {\n      padding: var(--spacing-md);\n    }\n  }\n\n  .grid__item__img {\n    position: relative;\n    padding-top: 100%;\n    margin: 0 auto var(--spacing-lg);\n\n    img {\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      background-color: var(--dark-grey);\n      border-radius: ${props => props.type === 'artist' ? '50%' : '2px'};\n    }\n  }\n\n  .grid__item__name {\n    margin: 0 0 var(--spacing-xxs);\n    font-size: var(--fz-md);\n    letter-spacing: normal;\n  }\n\n  .grid__item__label {\n    font-size: var(--fz-sm);\n    color: var(--light-grey);\n  }\n`;\n\nexport default StyledGrid;","import styled from 'styled-components/macro';\n\nconst StyledHeader = styled.header`\n  display: flex;\n  align-items: flex-end;\n  position: relative;\n  background: linear-gradient(transparent, rgba(0,0,0,0.5));\n  background-color: var(--grey);\n  height: 30vh;\n  max-height: 500px;\n  min-height: 250px;\n\n  @media (min-width: 768px) {\n    min-height: 340px;\n  }\n\n  &:after {\n    content: '';\n    display: block;\n    width: 100%;\n    height: 20vh;\n    background-color: var(--grey);\n    background-image: linear-gradient(rgba(0,0,0,0.6), var(--black));\n    position: absolute;\n    top: 100%;\n    z-index: -1;\n  }\n\n  .header__inner {\n    display: flex;\n    align-items: flex-end;\n    width: 100%;\n    max-width: var(--site-max-width);\n    margin: 0 auto;\n    padding: var(--spacing-lg) var(--spacing-md);\n\n    @media (min-width: 768px) {\n      padding: var(--spacing-xl) var(--spacing-xxl);\n    }\n  }\n\n  img.header__img {\n    width: 20%;\n    max-width: 250px;\n    min-width: 120px;\n    margin-right: var(--spacing-lg);\n    box-shadow: 0 4px 60px rgb(0 0 0 / 50%);\n    background-color: var(--dark-grey);\n    border-radius: ${props => props.type === 'user' ? '50%' : '0'};\n\n    @media (min-width: 768px) {\n      margin-right: var(--spacing-xl);\n    }\n  }\n\n  .header__overline {\n    text-transform: uppercase;\n    font-size: var(--fz-xxs);\n    font-weight: 700;\n    margin-bottom: var(--spacing-xs);\n  }\n\n  h1.header__name {\n    font-size: clamp(2.5rem, 10vw, 6rem);\n    font-weight: 900;\n    line-height: 1;\n    margin: 0 0 var(--spacing-xs) 0;\n\n    @media (min-width: 768px) {\n      margin: 0 0 var(--spacing-xs) -5px;\n    }\n  }\n\n  .header__meta {\n    display: flex;\n    align-items: center;\n    font-size: var(--fz-sm);\n    color: var(--light-grey);\n    margin: 0;\n\n    span {\n      display: flex;\n      align-items: center;\n\n      &:not(:last-of-type)::after {\n        content: 'â€¢';\n        display: block;\n        margin: 0 var(--spacing-xs);\n        color: var(--light-grey);\n        font-size: 8px;\n      }\n    }\n  }\n`;\n\nexport default StyledHeader;","import styled from 'styled-components/macro';\n\nconst StyledRangeButtons = styled.ul`\n  display: flex;\n  list-style: none;\n  margin: 0 0 var(--spacing-lg) 0;\n  padding: 0;\n\n  @media (min-width: 768px) {\n    position: absolute;\n    top: 0;\n    right: var(--spacing-xxl);\n    margin-bottom: 0;\n  }\n\n  li {\n    margin-right: var(--spacing-xs);\n\n    @media (min-width: 768px) {\n      margin-left: var(--spacing-xs);\n      margin-right: 0;\n    }\n  }\n\n  button {\n    background-color: var(--dark-grey);\n\n    &:hover,\n    &:focus {\n      background-color: var(--grey);\n    }\n\n    &.active {\n      background-color: var(--green);\n    }\n  }\n`;\n\nexport default StyledRangeButtons;","import styled from 'styled-components/macro';\n\nconst StyledSection = styled.section`\n  &:first-of-type {\n    .section__inner {\n      padding-top: 0;\n    }\n  }\n\n  .section__inner {\n    width: 100%;\n    max-width: var(--site-max-width);\n    margin: 0 auto;\n    position: relative;\n    padding: var(--spacing-lg) var(--spacing-md);\n\n    @media (min-width: 768px) {\n      padding: var(--spacing-xl) var(--spacing-xxl);\n    }\n  }\n\n  .section__top {\n    display: flex;\n    justify-content: space-between;\n    align-items: stretch;\n    margin-bottom: var(--spacing-xl);\n  }\n\n  .section__heading {\n    display: flex;\n    margin: 0;\n    font-size: var(--fz-xxl);\n  }\n\n  .section__breadcrumb {\n    display: flex;\n    color: var(--light-grey);\n\n    &::after {\n      content: '/';\n      display: block;\n      margin: 0 var(--spacing-sm);\n    }\n\n    a {\n      &:hover,\n      &:focus {\n        color: var(--white);\n      }\n    }\n  }\n\n  .section__see-all {\n    display: flex;\n    align-items: flex-end;\n    text-transform: uppercase;\n    color: var(--light-grey);\n    font-size: var(--fz-xxs);\n    font-weight: 700;\n    letter-spacing: 0.1em;\n    padding-bottom: 2px;\n  }\n`;\n\nexport default StyledSection;","import styled from 'styled-components/macro';\n\nconst StyledTrackList = styled.ul`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n\n  .track__item {\n    display: grid;\n    align-items: center;\n    grid-template-columns: 20px 1fr;\n    grid-gap: var(--spacing-md);\n    padding: var(--spacing-xs);\n    color: var(--light-grey);\n    font-size: var(--fz-sm);\n    border-radius: var(--border-radius-subtle);\n    transition: background-color 0.3s ease;\n    cursor: default;\n\n    @media (min-width: 768px) {\n      grid-template-columns: 20px 4fr 2fr minmax(60px, 1fr);\n      padding: var(--spacing-xs) var(--spacing-sm);\n    }\n\n    &:hover,\n    &:focus {\n      background-color: var(--dark-grey);\n    }\n  }\n\n  .track__item__num {\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    font-size: var(--fz-md);\n    font-variant-numeric: tabular-nums;\n    overflow: visible;\n  }\n\n  .track__item__title-group {\n    display: flex;\n    align-items: center;\n  }\n\n  .track__item__img {\n    margin-right: var(--spacing-sm);\n    width: 40px;\n    height: 40px;\n    flex-shrink: 0;\n    background-color: var(--dark-grey);\n  }\n\n  .track__item__name {\n    color: var(--white);\n    font-size: var(--fz-md);\n  }\n\n  .track__item__album {\n    display: none;\n\n    @media (min-width: 768px) {\n      display: block;\n      white-space: nowrap;\n    }\n  }\n\n  .track__item__duration {\n    display: none;\n\n    @media (min-width: 768px) {\n      display: flex;\n      justify-content: flex-end;\n      font-variant-numeric: tabular-nums;\n    }\n  }\n`;\n\nexport default StyledTrackList;","import { StyledGrid } from '../styles';\n\nconst ArtistsGrid = ({ artists }) => (\n  <>\n    {artists && artists.length ? (\n      <StyledGrid type=\"artist\">\n        {artists.map((artist, i) => (\n          <li className=\"grid__item\" key={i}>\n            <div className=\"grid__item__inner\">\n              {artist.images[0] && (\n                <div className=\"grid__item__img\">\n                  <img src={artist.images[0].url} alt={artist.name} />\n                </div>\n              )}\n              <h3 className=\"grid__item__name overflow-ellipsis\">{artist.name}</h3>\n              <p className=\"grid__item__label\">Artist</p>\n            </div>\n          </li>\n        ))}\n      </StyledGrid>\n    ) : (\n      <p className=\"empty-notice\">No artists available</p>\n    )}\n  </>\n);\n\nexport default ArtistsGrid;","import styled, { keyframes } from 'styled-components/macro';\n\nconst dance = keyframes`\n  from {\n    height: 10px;\n  }\n  to {\n    height: 100%;\n  }\n`;\n\nconst StyledLoader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  min-height: 50vh;\n\n  .bars {\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    overflow: hidden;\n    width: 100px;\n    min-width: 100px;\n    height: 50px;\n    margin: 0 auto;\n    z-index: 2;\n    position: relative;\n    left: 0;\n    right: 0;\n  }\n`;\n\nconst StyledBar = styled.div`\n  width: 10px;\n  height: 5px;\n  margin: 0 2px;\n  background-color: var(--dark-grey);\n  animation-name: ${dance};\n  animation-duration: 400ms;\n  animation-play-state: running;\n  animation-direction: alternate;\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n  animation-delay: ${props => props.delay || '0ms'};\n`;\n\nconst Loader = () => (\n  <StyledLoader>\n    <div className=\"bars\">\n      <StyledBar delay=\"250ms\" />\n      <StyledBar delay=\"715ms\" />\n      <StyledBar delay=\"475ms\" />\n      <StyledBar delay=\"25ms\" />\n      <StyledBar delay=\"190ms\" />\n    </div>\n  </StyledLoader>\n);\n\nexport default Loader;","import { Link } from 'react-router-dom';\nimport { StyledGrid } from '../styles';\n\nconst PlaylistsGrid = ({ playlists }) => (\n  <>\n    {playlists && playlists.length ? (\n      <StyledGrid>\n        {playlists.map((playlist, i) => (\n          <li className=\"grid__item\" key={i}>\n            <Link className=\"grid__item__inner\" to={`/playlists/${playlist.id}`}>\n              {playlist.images.length && playlist.images[0] && (\n                <div className=\"grid__item__img\">\n                  <img src={playlist.images[0].url} alt={playlist.name} />\n                </div>\n              )}\n              <h3 className=\"grid__item__name overflow-ellipsis\">{playlist.name}</h3>\n              <p className=\"grid__item__label\">Playlist</p>\n            </Link>\n          </li>\n        ))}\n      </StyledGrid>\n    ) : (\n      <p className=\"empty-notice\">No playlists available</p>\n    )}\n  </>\n);\n\nexport default PlaylistsGrid;","import { Link } from 'react-router-dom';\nimport { StyledSection } from '../styles';\n\nconst SectionWrapper = ({ children, title, seeAllLink, breadcrumb }) => (\n  <StyledSection>\n    <div className=\"section__inner\">\n      <div className=\"section__top\">\n        <h2 className=\"section__heading\">\n          {breadcrumb && (\n            <span className=\"section__breadcrumb\">\n              <Link to=\"/\">Profile</Link>\n            </span>\n          )}\n          {title && (\n            <>\n              {seeAllLink ? (\n                <Link to={seeAllLink}>{title}</Link>\n              ) : (\n                <span>{title}</span>\n              )}\n            </>\n          )}\n        </h2>\n        {seeAllLink && (\n          <Link to={seeAllLink} className=\"section__see-all\">See All</Link>\n        )}\n      </div>\n\n      {children}\n    </div>\n  </StyledSection>\n);\n\nexport default SectionWrapper;","import { StyledRangeButtons } from '../styles';\n\nconst TimeRangeButtons = ({ activeRange, setActiveRange }) => {\n  return (\n    <StyledRangeButtons>\n      <li>\n        <button\n          className={activeRange === 'short' ? 'active' : ''}\n          onClick={() => setActiveRange('short')}>\n          This Month\n        </button>\n      </li>\n      <li>\n        <button\n          className={activeRange === 'medium' ? 'active' : ''}\n          onClick={() => setActiveRange('medium')}>\n          Last 6 Months\n        </button>\n      </li>\n      <li>\n        <button\n          className={activeRange === 'long' ? 'active' : ''}\n          onClick={() => setActiveRange('long')}>\n          All Time\n        </button>\n      </li>\n    </StyledRangeButtons>\n  );\n};\n\nexport default TimeRangeButtons;","import { formatDuration } from '../utils';\nimport { StyledTrackList } from '../styles';\n\nconst TrackList = ({ tracks }) => (\n  <>\n    {tracks && tracks.length ? (\n      <StyledTrackList>\n        {tracks.map((track, i) => (\n          <li className=\"track__item\" key={i}>\n            <div className=\"track__item__num\">{i + 1}</div>\n            <div className=\"track__item__title-group\">\n              {track.album.images.length && track.album.images[2] && (\n                <div className=\"track__item__img\">\n                  <img src={track.album.images[2].url} alt={track.name} />\n                </div>\n              )}\n              <div className=\"track__item__name-artist\">\n                <div className=\"track__item__name overflow-ellipsis\">\n                  {track.name}\n                </div>\n                <div className=\"track__item__artist overflow-ellipsis\">\n                  {track.artists.map((artist, i) => (\n                    <span key={i}>\n                      {artist.name}{i !== track.artists.length - 1 && ', '}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            </div>\n            <div className=\"track__item__album overflow-ellipsis\">\n              {track.album.name}\n            </div>\n            <div className=\"track__item__duration\">\n              {formatDuration(track.duration_ms)}\n            </div>\n          </li>\n        ))}\n      </StyledTrackList>\n    ) : (\n      <p className=\"empty-notice\">No tracks available</p>\n    )}\n  </>\n);\n\nexport default TrackList;","import { useState, useEffect, useMemo } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { getPlaylistById, getAudioFeaturesForTracks } from '../spotify';\nimport { catchErrors } from '../utils';\nimport { TrackList, SectionWrapper, Loader } from '../components';\nimport { StyledHeader, StyledDropdown } from '../styles';\n\nconst Playlist = () => {\n  const { id } = useParams();\n  const [playlist, setPlaylist] = useState(null);\n  const [tracksData, setTracksData] = useState(null);\n  const [tracks, setTracks] = useState(null);\n  const [audioFeatures, setAudioFeatures] = useState(null);\n  const [sortValue, setSortValue] = useState('');\n  const sortOptions = ['danceability', 'tempo', 'energy'];\n\n  // Get playlist data based on ID from route params\n  useEffect(() => {\n    const fetchData = async () => {\n      const { data } = await getPlaylistById(id);\n      setPlaylist(data);\n      setTracksData(data.tracks);\n    };\n\n    catchErrors(fetchData());\n  }, [id]);\n\n  // When tracksData updates, compile arrays of tracks and audioFeatures\n  useEffect(() => {\n    if (!tracksData) {\n      return;\n    }\n\n    // When tracksData updates, check if there are more tracks to fetch\n    // then update the state variable\n    const fetchMoreData = async () => {\n      if (tracksData.next) {\n        const { data } = await axios.get(tracksData.next);\n        setTracksData(data);\n      }\n    };\n    setTracks(tracks => ([\n      ...tracks ? tracks : [],\n      ...tracksData.items\n    ]));\n    catchErrors(fetchMoreData());\n\n    // Also update the audioFeatures state variable using the track IDs\n    const fetchAudioFeatures = async () => {\n      const ids = tracksData.items.map(({ track }) => track.id).join(',');\n      const { data } = await getAudioFeaturesForTracks(ids);\n      setAudioFeatures(audioFeatures => ([\n        ...audioFeatures ? audioFeatures : [],\n        ...data['audio_features']\n      ]));\n    };\n    catchErrors(fetchAudioFeatures());\n\n  }, [tracksData]);\n\n  // Map over tracks and add audio_features property to each track\n  const tracksWithAudioFeatures = useMemo(() => {\n    if (!tracks || !audioFeatures) {\n      return null;\n    }\n\n    return tracks.map(({ track }) => {\n      const trackToAdd = track;\n\n      if (!track.audio_features) {\n        const audioFeaturesObj = audioFeatures.find(item => {\n          if (!item || !track) {\n            return null;\n          }\n          return item.id === track.id;\n        });\n\n        trackToAdd['audio_features'] = audioFeaturesObj;\n      }\n\n      return trackToAdd;\n    });\n  }, [tracks, audioFeatures]);\n\n  // Sort tracks by audio feature to be used in template\n  const sortedTracks = useMemo(() => {\n    if (!tracksWithAudioFeatures) {\n      return null;\n    }\n\n    return [...tracksWithAudioFeatures].sort((a, b) => {\n      const aFeatures = a['audio_features'];\n      const bFeatures = b['audio_features'];\n\n      if (!aFeatures || !bFeatures) {\n        return false;\n      }\n\n      return bFeatures[sortValue] - aFeatures[sortValue];\n    });\n  }, [sortValue, tracksWithAudioFeatures]);\n\n  return (\n    <>\n      {playlist && (\n        <>\n          <StyledHeader>\n            <div className=\"header__inner\">\n              {playlist.images.length && playlist.images[0].url && (\n                <img className=\"header__img\" src={playlist.images[0].url} alt=\"Playlist Artwork\"/>\n              )}\n              <div>\n                <div className=\"header__overline\">Playlist</div>\n                <h1 className=\"header__name\">{playlist.name}</h1>\n                <p className=\"header__meta\">\n                  {playlist.followers.total ? (\n                    <span>{playlist.followers.total} {`follower${playlist.followers.total !== 1 ? 's' : ''}`}</span>\n                  ) : null}\n                  <span>{playlist.tracks.total} {`song${playlist.tracks.total !== 1 ? 's' : ''}`}</span>\n                </p>\n              </div>\n            </div>\n          </StyledHeader>\n\n          <main>\n            <SectionWrapper title=\"Playlist\" breadcrumb={true}>\n              <StyledDropdown active={!!sortValue}>\n                <label className=\"sr-only\" htmlFor=\"order-select\">Sort tracks</label>\n                <select\n                  name=\"track-order\"\n                  id=\"order-select\"\n                  onChange={e => setSortValue(e.target.value)}\n                  >\n                  <option value=\"\">Sort tracks</option>\n                  {sortOptions.map((option, i) => (\n                    <option value={option} key={i}>\n                      {`${option.charAt(0).toUpperCase()}${option.slice(1)}`}\n                    </option>\n                  ))}\n                </select>\n              </StyledDropdown>\n\n              {sortedTracks ? (\n                <TrackList tracks={sortedTracks} />\n              ) : (\n                <Loader />\n              )}\n            </SectionWrapper>\n          </main>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Playlist;","import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { getCurrentUserPlaylists } from '../spotify';\nimport { catchErrors } from '../utils';\nimport { SectionWrapper, PlaylistsGrid, Loader } from '../components';\n\nconst Playlists = () => {\n  const [playlistsData, setPlaylistsData] = useState(null);\n  const [playlists, setPlaylists] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const { data } = await getCurrentUserPlaylists();\n      setPlaylistsData(data);\n    };\n\n    catchErrors(fetchData());\n  }, []);\n\n  // When playlistsData updates, check if there are more playlists to fetch\n  // then update the state variable\n  useEffect(() => {\n    if (!playlistsData) {\n      return;\n    }\n\n    // Playlist endpoint only returns 20 playlists at a time, so we need to\n    // make sure we get ALL playlists by fetching the next set of playlists\n    const fetchMoreData = async () => {\n      if (playlistsData.next) {\n        const { data } = await axios.get(playlistsData.next);\n        setPlaylistsData(data);\n      }\n    };\n\n    // Use functional update to update playlists state variable\n    // to avoid including playlists as a dependency for this hook\n    // and creating an infinite loop\n    setPlaylists(playlists => ([\n      ...playlists ? playlists : [],\n      ...playlistsData.items\n    ]));\n\n    // Fetch next set of playlists as needed\n    catchErrors(fetchMoreData());\n\n  }, [playlistsData]);\n\n  return (\n    <main>\n      <SectionWrapper title=\"Public Playlists\" breadcrumb={true}>\n        {playlists ? (\n          <PlaylistsGrid playlists={playlists} />\n        ) : (\n          <Loader />\n        )}\n      </SectionWrapper>\n    </main>\n  );\n};\n\nexport default Playlists;","import { useState, useEffect } from 'react';\nimport { catchErrors } from '../utils';\nimport {\n  getCurrentUserProfile,\n  getCurrentUserPlaylists,\n  getTopArtists,\n  getTopTracks\n} from '../spotify';\nimport {\n  SectionWrapper,\n  ArtistsGrid,\n  TrackList,\n  PlaylistsGrid,\n  Loader\n} from '../components';\nimport { StyledHeader } from '../styles';\n\nconst Profile = () => {\n  const [profile, setProfile] = useState(null);\n  const [playlists, setPlaylists] = useState(null);\n  const [topArtists, setTopArtists] = useState(null);\n  const [topTracks, setTopTracks] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const userProfile = await getCurrentUserProfile();\n      setProfile(userProfile.data);\n\n      const userPlaylists = await getCurrentUserPlaylists();\n      setPlaylists(userPlaylists.data);\n\n      const userTopArtists = await getTopArtists();\n      setTopArtists(userTopArtists.data);\n\n      const userTopTracks = await getTopTracks();\n      setTopTracks(userTopTracks.data);\n    };\n\n    catchErrors(fetchData());\n  }, []);\n\n  return (\n    <>\n      {profile && (\n        <>\n          <StyledHeader type=\"user\">\n            <div className=\"header__inner\">\n              {profile.images.length && profile.images[0].url && (\n                <img className=\"header__img\" src={profile.images[0].url} alt=\"Avatar\"/>\n              )}\n              <div>\n                <div className=\"header__overline\">Profile</div>\n                <h1 className=\"header__name\">{profile.display_name}</h1>\n                <p className=\"header__meta\">\n                  {playlists && (\n                    <span>{playlists.total} Playlist{playlists.total !== 1 ? 's' : ''}</span>\n                  )}\n                  <span>\n                    {profile.followers.total} Follower{profile.followers.total !== 1 ? 's' : ''}\n                  </span>\n                </p>\n              </div>\n            </div>\n          </StyledHeader>\n\n          <main>\n            {topArtists && topTracks && playlists ? (\n              <>\n                <SectionWrapper title=\"Top artists this month\" seeAllLink=\"/top-artists\">\n                  <ArtistsGrid artists={topArtists.items.slice(0, 10)} />\n                </SectionWrapper>\n\n                <SectionWrapper title=\"Top tracks this month\" seeAllLink=\"/top-tracks\">\n                  <TrackList tracks={topTracks.items.slice(0, 10)} />\n                </SectionWrapper>\n\n                <SectionWrapper title=\"Public Playlists\" seeAllLink=\"/playlists\">\n                  <PlaylistsGrid playlists={playlists.items.slice(0, 10)} />\n                </SectionWrapper>\n              </>\n            ) : (\n              <Loader />\n            )}\n          </main>\n        </>\n      )}\n    </>\n  )\n};\n\nexport default Profile;","import { useState, useEffect } from 'react';\nimport { getTopArtists } from '../spotify';\nimport { catchErrors } from '../utils';\nimport {\n  ArtistsGrid,\n  SectionWrapper,\n  TimeRangeButtons,\n  Loader\n} from '../components';\n\nconst TopArtists = () => {\n  const [topArtists, setTopArtists] = useState(null);\n  const [activeRange, setActiveRange] = useState('short');\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const { data } = await getTopArtists(`${activeRange}_term`);\n      setTopArtists(data);\n    };\n\n    catchErrors(fetchData());\n  }, [activeRange]);\n\n  return (\n    <main>\n      <SectionWrapper title=\"Top Artists\" breadcrumb={true}>\n        <TimeRangeButtons\n          activeRange={activeRange}\n          setActiveRange={setActiveRange}\n        />\n\n        {topArtists && topArtists.items ? (\n          <ArtistsGrid artists={topArtists.items} />\n        ) : (\n          <Loader />\n        )}\n      </SectionWrapper>\n    </main>\n  );\n};\n\nexport default TopArtists;","import { useState, useEffect } from 'react';\nimport { getTopTracks } from '../spotify';\nimport { catchErrors } from '../utils';\nimport {\n  SectionWrapper,\n  TrackList,\n  TimeRangeButtons,\n  Loader\n} from '../components';\n\nconst TopTracks = () => {\n  const [topTracks, setTopTracks] = useState(null);\n  const [activeRange, setActiveRange] = useState('short');\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const { data } = await getTopTracks(`${activeRange}_term`);\n      setTopTracks(data);\n    };\n\n    catchErrors(fetchData());\n  }, [activeRange]);\n\n  return (\n    <main>\n      <SectionWrapper title=\"Top Tracks\" breadcrumb={true}>\n        <TimeRangeButtons\n          activeRange={activeRange}\n          setActiveRange={setActiveRange}\n        />\n\n        {topTracks && topTracks.items ? (\n          <TrackList tracks={topTracks.items} />\n        ) : (\n          <Loader />\n        )}\n      </SectionWrapper>\n    </main>\n  );\n};\n\nexport default TopTracks;","import { useState, useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  useLocation,\n} from 'react-router-dom';\nimport { accessToken, logout } from './spotify';\nimport { Login, Profile, TopArtists, TopTracks, Playlists, Playlist } from './pages';\nimport { GlobalStyle } from './styles';\nimport styled from 'styled-components/macro';\n\nconst StyledLogoutButton = styled.button`\n  position: absolute;\n  top: var(--spacing-sm);\n  right: var(--spacing-md);\n  padding: var(--spacing-xs) var(--spacing-sm);\n  background-color: rgba(0,0,0,.7);\n  color: var(--white);\n  font-size: var(--fz-sm);\n  font-weight: 700;\n  border-radius: var(--border-radius-pill);\n  z-index: 10;\n  @media (min-width: 768px) {\n    right: var(--spacing-lg);\n  }\n`;\n\n// Scroll to top of page when changing routes\n// https://reactrouter.com/web/guides/scroll-restoration/scroll-to-top\nfunction ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n\nfunction App() {\n  const [token, setToken] = useState(null);\n\n  useEffect(() => {\n    setToken(accessToken);\n  }, []);\n\n  return (\n    <div className=\"app\">\n      <GlobalStyle />\n\n      {!token ? (\n        <Login />\n      ) : (\n        <>\n          <StyledLogoutButton onClick={logout}>Log Out</StyledLogoutButton>\n\n          <Router>\n            <ScrollToTop />\n\n            <Switch>\n              <Route path=\"/top-artists\">\n                <TopArtists />\n              </Route>\n              <Route path=\"/top-tracks\">\n                <TopTracks />\n              </Route>\n              <Route path=\"/playlists/:id\">\n                <Playlist />\n              </Route>\n              <Route path=\"/playlists\">\n                <Playlists />\n              </Route>\n              <Route path=\"/\">\n                <Profile />\n              </Route>\n            </Switch>\n          </Router>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}